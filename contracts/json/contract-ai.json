{
  "$defs": {
    "AcceptanceCriteria": {
      "description": "Acceptance criteria for generated code\n\nExample:\n    acceptance = AcceptanceCriteria(\n        testsPass=True,\n        minCoverage=70,\n        noErrors=True,\n        lintClean=True\n    )",
      "properties": {
        "tests_pass": {
          "default": true,
          "title": "Tests Pass",
          "type": "boolean"
        },
        "min_coverage": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Min Coverage"
        },
        "no_errors": {
          "default": true,
          "title": "No Errors",
          "type": "boolean"
        },
        "no_warnings": {
          "default": false,
          "title": "No Warnings",
          "type": "boolean"
        },
        "lint_clean": {
          "default": false,
          "title": "Lint Clean",
          "type": "boolean"
        },
        "max_complexity": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Max Complexity"
        }
      },
      "title": "AcceptanceCriteria",
      "type": "object"
    },
    "ApiAuthentication": {
      "description": "API authentication configuration",
      "properties": {
        "type": {
          "enum": [
            "jwt",
            "api-key",
            "oauth2",
            "none"
          ],
          "title": "Type",
          "type": "string"
        },
        "config": {
          "anyOf": [
            {
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Config"
        }
      },
      "required": [
        "type"
      ],
      "title": "ApiAuthentication",
      "type": "object"
    },
    "ApiDefinition": {
      "description": "API definition\n\nExample:\n    api = ApiDefinition(\n        version=\"v1\",\n        prefix=\"/api/v1\",\n        resources=[\n            ApiResourceDefinition(name=\"contacts\", entity=\"Contact\", operations=[\"list\", \"get\", \"create\", \"update\", \"delete\"]),\n        ]\n    )",
      "properties": {
        "version": {
          "title": "Version",
          "type": "string"
        },
        "prefix": {
          "title": "Prefix",
          "type": "string"
        },
        "resources": {
          "items": {
            "$ref": "#/$defs/ApiResourceDefinition"
          },
          "title": "Resources",
          "type": "array"
        },
        "authentication": {
          "anyOf": [
            {
              "$ref": "#/$defs/ApiAuthentication"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "required": [
        "version",
        "prefix",
        "resources"
      ],
      "title": "ApiDefinition",
      "type": "object"
    },
    "ApiEndpointDefinition": {
      "description": "Custom endpoint definition",
      "properties": {
        "method": {
          "enum": [
            "GET",
            "POST",
            "PUT",
            "PATCH",
            "DELETE"
          ],
          "title": "Method",
          "type": "string"
        },
        "path": {
          "title": "Path",
          "type": "string"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Description"
        },
        "request_body": {
          "anyOf": [
            {
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Request Body"
        },
        "response": {
          "anyOf": [
            {
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Response"
        }
      },
      "required": [
        "method",
        "path"
      ],
      "title": "ApiEndpointDefinition",
      "type": "object"
    },
    "ApiResourceDefinition": {
      "description": "API resource definition",
      "properties": {
        "name": {
          "title": "Name",
          "type": "string"
        },
        "entity": {
          "title": "Entity",
          "type": "string"
        },
        "operations": {
          "items": {
            "enum": [
              "list",
              "get",
              "create",
              "update",
              "delete"
            ],
            "type": "string"
          },
          "title": "Operations",
          "type": "array"
        },
        "custom_endpoints": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/ApiEndpointDefinition"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Custom Endpoints"
        }
      },
      "required": [
        "name",
        "entity",
        "operations"
      ],
      "title": "ApiResourceDefinition",
      "type": "object"
    },
    "AppDefinition": {
      "description": "Application definition\n\nExample:\n    app = AppDefinition(\n        name=\"CRM System\",\n        version=\"1.0.0\",\n        description=\"Customer Relationship Management System\"\n    )",
      "properties": {
        "name": {
          "title": "Name",
          "type": "string"
        },
        "version": {
          "title": "Version",
          "type": "string"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Description"
        },
        "author": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Author"
        },
        "license": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "License"
        }
      },
      "required": [
        "name",
        "version"
      ],
      "title": "AppDefinition",
      "type": "object"
    },
    "Assertion": {
      "description": "Validation assertion\n\nExample:\n    assertion = Assertion(\n        type=AssertionType.ENDPOINT_STATUS,\n        target=\"/api/v1/contacts\",\n        expected=200,\n        description=\"Contacts endpoint should return 200\"\n    )",
      "properties": {
        "type": {
          "$ref": "#/$defs/AssertionType"
        },
        "target": {
          "title": "Target",
          "type": "string"
        },
        "expected": {
          "title": "Expected"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Description"
        },
        "severity": {
          "default": "error",
          "enum": [
            "error",
            "warning",
            "info"
          ],
          "title": "Severity",
          "type": "string"
        }
      },
      "required": [
        "type",
        "target",
        "expected"
      ],
      "title": "Assertion",
      "type": "object"
    },
    "AssertionType": {
      "description": "Assertion types for validation",
      "enum": [
        "file-exists",
        "file-contains",
        "endpoint-returns",
        "endpoint-status",
        "schema-valid",
        "type-check",
        "lint-pass",
        "test-pass"
      ],
      "title": "AssertionType",
      "type": "string"
    },
    "BackendTechStack": {
      "description": "Backend technology stack configuration",
      "properties": {
        "runtime": {
          "default": "node",
          "title": "Runtime",
          "type": "string"
        },
        "language": {
          "default": "typescript",
          "title": "Language",
          "type": "string"
        },
        "framework": {
          "default": "express",
          "title": "Framework",
          "type": "string"
        },
        "port": {
          "default": 3000,
          "title": "Port",
          "type": "integer"
        },
        "orm": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Orm"
        }
      },
      "title": "BackendTechStack",
      "type": "object"
    },
    "Constraint": {
      "description": "Generation constraint\n\nExample:\n    constraint = Constraint(\n        type=ConstraintType.SECURITY,\n        name=\"Input Validation\",\n        description=\"All user inputs must be validated\",\n        enforcement=\"required\"\n    )",
      "properties": {
        "type": {
          "$ref": "#/$defs/ConstraintType"
        },
        "name": {
          "title": "Name",
          "type": "string"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Description"
        },
        "enforcement": {
          "default": "required",
          "enum": [
            "required",
            "recommended",
            "optional"
          ],
          "title": "Enforcement",
          "type": "string"
        },
        "check": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Check"
        }
      },
      "required": [
        "type",
        "name"
      ],
      "title": "Constraint",
      "type": "object"
    },
    "ConstraintType": {
      "description": "Constraint types",
      "enum": [
        "security",
        "performance",
        "compatibility",
        "style",
        "architecture"
      ],
      "title": "ConstraintType",
      "type": "string"
    },
    "ContractMetadata": {
      "description": "Contract metadata\n\nExample:\n    metadata = ContractMetadata(\n        version=\"1.0.0\",\n        author=\"John Doe\",\n        tags=[\"crm\", \"contacts\"]\n    )",
      "properties": {
        "version": {
          "title": "Version",
          "type": "string"
        },
        "author": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Author"
        },
        "created_at": {
          "format": "date-time",
          "title": "Created At",
          "type": "string"
        },
        "updated_at": {
          "format": "date-time",
          "title": "Updated At",
          "type": "string"
        },
        "tags": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Tags"
        },
        "source": {
          "anyOf": [
            {
              "enum": [
                "llm-generated",
                "manual",
                "imported"
              ],
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Source"
        },
        "session_id": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Session Id"
        }
      },
      "required": [
        "version"
      ],
      "title": "ContractMetadata",
      "type": "object"
    },
    "DatabaseTechStack": {
      "description": "Database technology stack configuration",
      "properties": {
        "type": {
          "default": "in-memory",
          "enum": [
            "postgresql",
            "mysql",
            "sqlite",
            "mongodb",
            "in-memory"
          ],
          "title": "Type",
          "type": "string"
        },
        "host": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Host"
        },
        "port": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Port"
        },
        "name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Name"
        }
      },
      "title": "DatabaseTechStack",
      "type": "object"
    },
    "DefinitionLayer": {
      "description": "Layer 1: Definition - defines WHAT to implement\n\nExample:\n    definition = DefinitionLayer(\n        app=AppDefinition(name=\"CRM System\", version=\"1.0.0\"),\n        entities=[\n            EntityDefinition(name=\"Contact\", fields=[...]),\n        ],\n        api=ApiDefinition(version=\"v1\", prefix=\"/api/v1\", resources=[...])\n    )",
      "properties": {
        "app": {
          "$ref": "#/$defs/AppDefinition"
        },
        "entities": {
          "items": {
            "$ref": "#/$defs/EntityDefinition"
          },
          "title": "Entities",
          "type": "array"
        },
        "events": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/EventDefinition"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Events"
        },
        "workflows": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/WorkflowDefinition"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Workflows"
        },
        "api": {
          "anyOf": [
            {
              "$ref": "#/$defs/ApiDefinition"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "required": [
        "app",
        "entities"
      ],
      "title": "DefinitionLayer",
      "type": "object"
    },
    "EntityDefinition": {
      "description": "Domain entity definition\n\nExample:\n    entity = EntityDefinition(\n        name=\"Contact\",\n        description=\"Customer contact information\",\n        fields=[\n            FieldDefinition(name=\"id\", type=\"UUID\", annotations=FieldAnnotations(generated=True)),\n            FieldDefinition(name=\"email\", type=\"Email\", annotations=FieldAnnotations(required=True, unique=True)),\n        ],\n        relations=[\n            RelationDefinition(name=\"company\", type=RelationType.MANY_TO_ONE, target=\"Company\")\n        ]\n    )",
      "properties": {
        "name": {
          "title": "Name",
          "type": "string"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Description"
        },
        "fields": {
          "items": {
            "$ref": "#/$defs/FieldDefinition"
          },
          "title": "Fields",
          "type": "array"
        },
        "relations": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/RelationDefinition"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Relations"
        },
        "indexes": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/IndexDefinition"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Indexes"
        },
        "tags": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Tags"
        }
      },
      "required": [
        "name",
        "fields"
      ],
      "title": "EntityDefinition",
      "type": "object"
    },
    "EventDefinition": {
      "description": "Domain event definition\n\nExample:\n    event = EventDefinition(\n        name=\"ContactCreated\",\n        description=\"Emitted when a new contact is created\",\n        fields=[\n            FieldDefinition(name=\"contactId\", type=\"UUID\", annotations=FieldAnnotations(required=True)),\n        ],\n        triggers=[\"api.contact.create\", \"import.contact\"]\n    )",
      "properties": {
        "name": {
          "title": "Name",
          "type": "string"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Description"
        },
        "fields": {
          "items": {
            "$ref": "#/$defs/FieldDefinition"
          },
          "title": "Fields",
          "type": "array"
        },
        "triggers": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Triggers"
        },
        "source_entity": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Source Entity"
        }
      },
      "required": [
        "name",
        "fields"
      ],
      "title": "EventDefinition",
      "type": "object"
    },
    "FieldAnnotations": {
      "description": "Field annotations defining validation and behavior\n\nExample:\n    annotations = FieldAnnotations(\n        required=True,\n        unique=True,\n        pattern=r'^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$'\n    )",
      "properties": {
        "required": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Required"
        },
        "unique": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Unique"
        },
        "generated": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Generated"
        },
        "default": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Default"
        },
        "min": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Min"
        },
        "max": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Max"
        },
        "pattern": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Pattern"
        },
        "enum": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Enum"
        },
        "relation": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Relation"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Description"
        }
      },
      "title": "FieldAnnotations",
      "type": "object"
    },
    "FieldDefinition": {
      "description": "Entity field definition\n\nExample:\n    field = FieldDefinition(\n        name=\"email\",\n        type=\"Email\",\n        annotations=FieldAnnotations(required=True, unique=True)\n    )",
      "properties": {
        "name": {
          "title": "Name",
          "type": "string"
        },
        "type": {
          "title": "Type",
          "type": "string"
        },
        "annotations": {
          "anyOf": [
            {
              "$ref": "#/$defs/FieldAnnotations"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "required": [
        "name",
        "type"
      ],
      "title": "FieldDefinition",
      "type": "object"
    },
    "FrontendTechStack": {
      "description": "Frontend technology stack configuration",
      "properties": {
        "framework": {
          "default": "react",
          "title": "Framework",
          "type": "string"
        },
        "language": {
          "default": "typescript",
          "title": "Language",
          "type": "string"
        },
        "styling": {
          "default": "tailwind",
          "title": "Styling",
          "type": "string"
        },
        "port": {
          "default": 5173,
          "title": "Port",
          "type": "integer"
        }
      },
      "title": "FrontendTechStack",
      "type": "object"
    },
    "GenerationLayer": {
      "description": "Layer 2: Generation - defines HOW LLM should generate code\n\nExample:\n    generation = GenerationLayer(\n        instructions=[\n            Instruction(target=\"api\", priority=InstructionPriority.MUST, instruction=\"Use Express.js with TypeScript\"),\n        ],\n        patterns=[\n            Pattern(name=\"Repository\", type=PatternType.REPOSITORY, applies_to=[\"entity\"]),\n        ],\n        constraints=[\n            Constraint(type=ConstraintType.SECURITY, name=\"Input Validation\", description=\"Validate all inputs\"),\n        ],\n        techStack=TechStack(backend=BackendTechStack(port=3000))\n    )",
      "properties": {
        "instructions": {
          "items": {
            "$ref": "#/$defs/Instruction"
          },
          "title": "Instructions",
          "type": "array"
        },
        "patterns": {
          "items": {
            "$ref": "#/$defs/Pattern"
          },
          "title": "Patterns",
          "type": "array"
        },
        "constraints": {
          "items": {
            "$ref": "#/$defs/Constraint"
          },
          "title": "Constraints",
          "type": "array"
        },
        "tech_stack": {
          "$ref": "#/$defs/TechStack"
        }
      },
      "title": "GenerationLayer",
      "type": "object"
    },
    "IndexDefinition": {
      "description": "Database index definition",
      "properties": {
        "name": {
          "title": "Name",
          "type": "string"
        },
        "fields": {
          "items": {
            "type": "string"
          },
          "title": "Fields",
          "type": "array"
        },
        "unique": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Unique"
        }
      },
      "required": [
        "name",
        "fields"
      ],
      "title": "IndexDefinition",
      "type": "object"
    },
    "Instruction": {
      "description": "Generation instruction for LLM\n\nExample:\n    instruction = Instruction(\n        target=\"api\",\n        priority=InstructionPriority.MUST,\n        instruction=\"Use Express.js with TypeScript\"\n    )",
      "properties": {
        "target": {
          "title": "Target",
          "type": "string"
        },
        "priority": {
          "$ref": "#/$defs/InstructionPriority"
        },
        "instruction": {
          "title": "Instruction",
          "type": "string"
        },
        "rationale": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Rationale"
        }
      },
      "required": [
        "target",
        "priority",
        "instruction"
      ],
      "title": "Instruction",
      "type": "object"
    },
    "InstructionPriority": {
      "description": "Instruction priority levels",
      "enum": [
        "must",
        "should",
        "may",
        "must-not"
      ],
      "title": "InstructionPriority",
      "type": "string"
    },
    "Pattern": {
      "description": "Design pattern specification\n\nExample:\n    pattern = Pattern(\n        name=\"Repository Pattern\",\n        type=PatternType.REPOSITORY,\n        description=\"Data access abstraction layer\",\n        applies_to=[\"entity\"]\n    )",
      "properties": {
        "name": {
          "title": "Name",
          "type": "string"
        },
        "type": {
          "$ref": "#/$defs/PatternType"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Description"
        },
        "applies_to": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Applies To"
        },
        "template": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Template"
        }
      },
      "required": [
        "name",
        "type"
      ],
      "title": "Pattern",
      "type": "object"
    },
    "PatternType": {
      "description": "Design pattern types",
      "enum": [
        "repository",
        "service",
        "controller",
        "factory",
        "singleton",
        "observer",
        "strategy",
        "decorator"
      ],
      "title": "PatternType",
      "type": "string"
    },
    "QualityGate": {
      "description": "Quality gate definition\n\nExample:\n    gate = QualityGate(\n        name=\"Code Coverage\",\n        metric=\"coverage\",\n        threshold=70,\n        operator=\"gte\"\n    )",
      "properties": {
        "name": {
          "title": "Name",
          "type": "string"
        },
        "metric": {
          "title": "Metric",
          "type": "string"
        },
        "threshold": {
          "title": "Threshold",
          "type": "number"
        },
        "operator": {
          "default": "gte",
          "enum": [
            "eq",
            "gt",
            "gte",
            "lt",
            "lte"
          ],
          "title": "Operator",
          "type": "string"
        },
        "blocking": {
          "default": true,
          "title": "Blocking",
          "type": "boolean"
        }
      },
      "required": [
        "name",
        "metric",
        "threshold"
      ],
      "title": "QualityGate",
      "type": "object"
    },
    "RelationDefinition": {
      "description": "Relation definition between entities\n\nExample:\n    relation = RelationDefinition(\n        name=\"company\",\n        type=RelationType.MANY_TO_ONE,\n        target=\"Company\",\n        foreignKey=\"companyId\",\n        onDelete=\"SET NULL\"\n    )",
      "properties": {
        "name": {
          "title": "Name",
          "type": "string"
        },
        "type": {
          "$ref": "#/$defs/RelationType"
        },
        "target": {
          "title": "Target",
          "type": "string"
        },
        "foreign_key": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Foreign Key"
        },
        "on_delete": {
          "anyOf": [
            {
              "enum": [
                "CASCADE",
                "SET NULL",
                "RESTRICT",
                "NO ACTION"
              ],
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "On Delete"
        },
        "on_update": {
          "anyOf": [
            {
              "enum": [
                "CASCADE",
                "SET NULL",
                "RESTRICT",
                "NO ACTION"
              ],
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "On Update"
        }
      },
      "required": [
        "name",
        "type",
        "target"
      ],
      "title": "RelationDefinition",
      "type": "object"
    },
    "RelationType": {
      "description": "Relation types between entities",
      "enum": [
        "OneToOne",
        "OneToMany",
        "ManyToOne",
        "ManyToMany"
      ],
      "title": "RelationType",
      "type": "string"
    },
    "StaticRule": {
      "description": "Static analysis rule\n\nExample:\n    rule = StaticRule(\n        id=\"no-any\",\n        name=\"No any type\",\n        description=\"Disallow usage of 'any' type\",\n        severity=\"warning\",\n        pattern=\":\\\\s*any\\\\b\"\n    )",
      "properties": {
        "id": {
          "title": "Id",
          "type": "string"
        },
        "name": {
          "title": "Name",
          "type": "string"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Description"
        },
        "severity": {
          "default": "warning",
          "enum": [
            "error",
            "warning",
            "info"
          ],
          "title": "Severity",
          "type": "string"
        },
        "pattern": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Pattern"
        },
        "fix": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Fix"
        }
      },
      "required": [
        "id",
        "name"
      ],
      "title": "StaticRule",
      "type": "object"
    },
    "TechStack": {
      "description": "Complete technology stack configuration\n\nExample:\n    tech_stack = TechStack(\n        backend=BackendTechStack(runtime=\"node\", language=\"typescript\", framework=\"express\", port=3000),\n        frontend=FrontendTechStack(framework=\"react\", language=\"typescript\"),\n        database=DatabaseTechStack(type=\"postgresql\")\n    )",
      "properties": {
        "backend": {
          "$ref": "#/$defs/BackendTechStack"
        },
        "frontend": {
          "anyOf": [
            {
              "$ref": "#/$defs/FrontendTechStack"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "database": {
          "$ref": "#/$defs/DatabaseTechStack"
        }
      },
      "title": "TechStack",
      "type": "object"
    },
    "TestDefinition": {
      "description": "Test definition\n\nExample:\n    test = TestDefinition(\n        name=\"Contact CRUD\",\n        type=TestType.API,\n        description=\"Test Contact CRUD operations\",\n        steps=[\n            {\"action\": \"POST\", \"endpoint\": \"/api/v1/contacts\", \"body\": {\"email\": \"test@example.com\"}},\n            {\"action\": \"GET\", \"endpoint\": \"/api/v1/contacts\", \"expect\": {\"status\": 200}},\n        ]\n    )",
      "properties": {
        "name": {
          "title": "Name",
          "type": "string"
        },
        "type": {
          "$ref": "#/$defs/TestType"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Description"
        },
        "entity": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Entity"
        },
        "steps": {
          "anyOf": [
            {
              "items": {
                "type": "object"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Steps"
        },
        "setup": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Setup"
        },
        "teardown": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Teardown"
        }
      },
      "required": [
        "name",
        "type"
      ],
      "title": "TestDefinition",
      "type": "object"
    },
    "TestType": {
      "description": "Test types",
      "enum": [
        "unit",
        "integration",
        "e2e",
        "api",
        "contract"
      ],
      "title": "TestType",
      "type": "string"
    },
    "ValidationLayer": {
      "description": "Layer 3: Validation - defines HOW to verify and WHEN ready\n\nExample:\n    validation = ValidationLayer(\n        assertions=[\n            Assertion(type=AssertionType.ENDPOINT_STATUS, target=\"/api/v1/contacts\", expected=200),\n        ],\n        tests=[\n            TestDefinition(name=\"Contact CRUD\", type=TestType.API),\n        ],\n        staticRules=[\n            StaticRule(id=\"no-any\", name=\"No any type\", severity=\"warning\"),\n        ],\n        qualityGates=[\n            QualityGate(name=\"Coverage\", metric=\"coverage\", threshold=70),\n        ],\n        acceptance=AcceptanceCriteria(testsPass=True, minCoverage=70)\n    )",
      "properties": {
        "assertions": {
          "items": {
            "$ref": "#/$defs/Assertion"
          },
          "title": "Assertions",
          "type": "array"
        },
        "tests": {
          "items": {
            "$ref": "#/$defs/TestDefinition"
          },
          "title": "Tests",
          "type": "array"
        },
        "static_rules": {
          "items": {
            "$ref": "#/$defs/StaticRule"
          },
          "title": "Static Rules",
          "type": "array"
        },
        "quality_gates": {
          "items": {
            "$ref": "#/$defs/QualityGate"
          },
          "title": "Quality Gates",
          "type": "array"
        },
        "acceptance": {
          "$ref": "#/$defs/AcceptanceCriteria"
        }
      },
      "title": "ValidationLayer",
      "type": "object"
    },
    "WorkflowDefinition": {
      "description": "Workflow definition\n\nExample:\n    workflow = WorkflowDefinition(\n        name=\"CustomerOnboarding\",\n        description=\"New customer onboarding process\",\n        trigger=\"ContactCreated\",\n        steps=[\n            WorkflowStepDefinition(id=\"verify\", type=WorkflowStepType.ACTION, name=\"Verify Email\", next=\"welcome\"),\n            WorkflowStepDefinition(id=\"welcome\", type=WorkflowStepType.NOTIFY, name=\"Send Welcome Email\"),\n        ]\n    )",
      "properties": {
        "name": {
          "title": "Name",
          "type": "string"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Description"
        },
        "version": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Version"
        },
        "trigger": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Trigger"
        },
        "schedule": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Schedule"
        },
        "steps": {
          "items": {
            "$ref": "#/$defs/WorkflowStepDefinition"
          },
          "title": "Steps",
          "type": "array"
        }
      },
      "required": [
        "name",
        "steps"
      ],
      "title": "WorkflowDefinition",
      "type": "object"
    },
    "WorkflowStepDefinition": {
      "description": "Workflow step definition",
      "properties": {
        "id": {
          "title": "Id",
          "type": "string"
        },
        "type": {
          "$ref": "#/$defs/WorkflowStepType"
        },
        "name": {
          "title": "Name",
          "type": "string"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Description"
        },
        "config": {
          "anyOf": [
            {
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Config"
        },
        "next": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Next"
        },
        "on_error": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "On Error"
        },
        "condition": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Condition"
        }
      },
      "required": [
        "id",
        "type",
        "name"
      ],
      "title": "WorkflowStepDefinition",
      "type": "object"
    },
    "WorkflowStepType": {
      "description": "Workflow step types",
      "enum": [
        "action",
        "condition",
        "parallel",
        "loop",
        "wait",
        "notify",
        "transform",
        "validate"
      ],
      "title": "WorkflowStepType",
      "type": "string"
    }
  },
  "description": "Contract AI - complete specification for LLM code generation\n\nContract AI is not just a data schema, but a full process specification:\n- WHAT to implement (definition)\n- HOW to generate (generation)\n- HOW to verify and WHEN ready (validation)\n\nExample:\n    contract = ContractAI(\n        definition=DefinitionLayer(\n            app=AppDefinition(name=\"CRM System\", version=\"1.0.0\"),\n            entities=[EntityDefinition(name=\"Contact\", fields=[...])],\n            api=ApiDefinition(version=\"v1\", prefix=\"/api/v1\", resources=[...])\n        ),\n        generation=GenerationLayer(\n            instructions=[Instruction(target=\"api\", priority=InstructionPriority.MUST, instruction=\"Use Express.js\")],\n            techStack=TechStack(backend=BackendTechStack(port=3000))\n        ),\n        validation=ValidationLayer(\n            assertions=[Assertion(type=AssertionType.ENDPOINT_STATUS, target=\"/api/v1/contacts\", expected=200)],\n            acceptance=AcceptanceCriteria(testsPass=True, minCoverage=70)\n        ),\n        metadata=ContractMetadata(version=\"1.0.0\")\n    )",
  "properties": {
    "definition": {
      "$ref": "#/$defs/DefinitionLayer"
    },
    "generation": {
      "$ref": "#/$defs/GenerationLayer"
    },
    "validation": {
      "$ref": "#/$defs/ValidationLayer"
    },
    "metadata": {
      "anyOf": [
        {
          "$ref": "#/$defs/ContractMetadata"
        },
        {
          "type": "null"
        }
      ],
      "default": null
    }
  },
  "required": [
    "definition",
    "generation",
    "validation"
  ],
  "title": "ContractAI",
  "type": "object"
}