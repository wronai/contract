# Code Analysis Report

**Generated:** 2026-01-02T16:37:39.862Z
**Root:** /home/tom/github/wronai/contract/src/core/contract-ai/evolution

## Summary

| Metric | Value |
|--------|-------|
| Total Files | 14 |
| Total Lines | 7728 |
| Total Functions | 626 |
| Total Classes | 18 |
| Avg File Lines | 552 |
| Avg Function Lines | 15 |

## Largest Files

| File | Lines |
|------|-------|
| evolution-manager.ts | 3428 |
| code-rag.ts | 888 |
| shell-renderer.ts | 489 |
| task-executor.ts | 404 |
| fallback-templates.ts | 354 |
| state-analyzer.ts | 353 |
| git-analyzer.ts | 310 |
| test-generator.ts | 310 |
| doc-generator.ts | 269 |
| service-manager.ts | 267 |

## Largest Functions

| Function | File | Lines |
|----------|------|-------|
| evolveIteratively | evolution-manager.ts | 426 |
| for | evolution-manager.ts | 366 |
| for | evolution-manager.ts | 330 |
| catch | evolution-manager.ts | 313 |
| switch | evolution-manager.ts | 285 |
| getFallbackReadme | doc-generator.ts | 132 |
| getFallbackReadme | evolution-manager.ts | 130 |
| startService | evolution-manager.ts | 123 |
| generateContractFromCode | git-analyzer.ts | 114 |
| generateReadme | evolution-manager.ts | 105 |

## Potential Duplicates

### if(1)

- code-rag.ts:152
- code-rag.ts:98
- code-rag.ts:100
- code-rag.ts:144
- code-rag.ts:153
- code-rag.ts:155
- code-rag.ts:165
- code-rag.ts:167
- code-rag.ts:177
- code-rag.ts:179
- code-rag.ts:189
- code-rag.ts:194
- code-rag.ts:214
- code-rag.ts:257
- code-rag.ts:281
- code-rag.ts:291
- code-rag.ts:302
- code-rag.ts:352
- code-rag.ts:361
- code-rag.ts:374
- code-rag.ts:386
- code-rag.ts:390
- code-rag.ts:444
- code-rag.ts:464
- code-rag.ts:590
- code-rag.ts:621
- code-rag.ts:627
- code-rag.ts:636
- code-rag.ts:668
- code-rag.ts:694
- code-rag.ts:802
- code-rag.ts:808
- doc-generator.ts:48
- doc-generator.ts:120
- evolution-manager.ts:142
- evolution-manager.ts:148
- evolution-manager.ts:169
- evolution-manager.ts:173
- evolution-manager.ts:179
- evolution-manager.ts:201
- evolution-manager.ts:211
- evolution-manager.ts:225
- evolution-manager.ts:231
- evolution-manager.ts:254
- evolution-manager.ts:268
- evolution-manager.ts:274
- evolution-manager.ts:315
- evolution-manager.ts:340
- evolution-manager.ts:366
- evolution-manager.ts:376
- evolution-manager.ts:382
- evolution-manager.ts:400
- evolution-manager.ts:409
- evolution-manager.ts:427
- evolution-manager.ts:431
- evolution-manager.ts:572
- evolution-manager.ts:617
- evolution-manager.ts:621
- evolution-manager.ts:663
- evolution-manager.ts:736
- evolution-manager.ts:813
- evolution-manager.ts:814
- evolution-manager.ts:822
- evolution-manager.ts:823
- evolution-manager.ts:831
- evolution-manager.ts:832
- evolution-manager.ts:840
- evolution-manager.ts:841
- evolution-manager.ts:845
- evolution-manager.ts:870
- evolution-manager.ts:1032
- evolution-manager.ts:1131
- evolution-manager.ts:1134
- evolution-manager.ts:1263
- evolution-manager.ts:1295
- evolution-manager.ts:1342
- evolution-manager.ts:1403
- evolution-manager.ts:1420
- evolution-manager.ts:1435
- evolution-manager.ts:1438
- evolution-manager.ts:1490
- evolution-manager.ts:1497
- evolution-manager.ts:1510
- evolution-manager.ts:1511
- evolution-manager.ts:1518
- evolution-manager.ts:1519
- evolution-manager.ts:1548
- evolution-manager.ts:1575
- evolution-manager.ts:1584
- evolution-manager.ts:1600
- evolution-manager.ts:1610
- evolution-manager.ts:1621
- evolution-manager.ts:1631
- evolution-manager.ts:1641
- evolution-manager.ts:1647
- evolution-manager.ts:1659
- evolution-manager.ts:1669
- evolution-manager.ts:1685
- evolution-manager.ts:1692
- evolution-manager.ts:1717
- evolution-manager.ts:1727
- evolution-manager.ts:1743
- evolution-manager.ts:1760
- evolution-manager.ts:1762
- evolution-manager.ts:1766
- evolution-manager.ts:1782
- evolution-manager.ts:1787
- evolution-manager.ts:1797
- evolution-manager.ts:1802
- evolution-manager.ts:1814
- evolution-manager.ts:1825
- evolution-manager.ts:1843
- evolution-manager.ts:1845
- evolution-manager.ts:1869
- evolution-manager.ts:1897
- evolution-manager.ts:1966
- evolution-manager.ts:1986
- evolution-manager.ts:2144
- evolution-manager.ts:2150
- evolution-manager.ts:2177
- evolution-manager.ts:2183
- evolution-manager.ts:2199
- evolution-manager.ts:2212
- evolution-manager.ts:2218
- evolution-manager.ts:2227
- evolution-manager.ts:2236
- evolution-manager.ts:2245
- evolution-manager.ts:2257
- evolution-manager.ts:2278
- evolution-manager.ts:2303
- evolution-manager.ts:2325
- evolution-manager.ts:2447
- evolution-manager.ts:2457
- evolution-manager.ts:2468
- evolution-manager.ts:2521
- evolution-manager.ts:2529
- evolution-manager.ts:2562
- evolution-manager.ts:2569
- evolution-manager.ts:2573
- evolution-manager.ts:2601
- evolution-manager.ts:2620
- evolution-manager.ts:2673
- evolution-manager.ts:2683
- evolution-manager.ts:2696
- evolution-manager.ts:2697
- evolution-manager.ts:2718
- evolution-manager.ts:2741
- evolution-manager.ts:2748
- evolution-manager.ts:2755
- evolution-manager.ts:2775
- evolution-manager.ts:2783
- evolution-manager.ts:2789
- evolution-manager.ts:2790
- evolution-manager.ts:2792
- evolution-manager.ts:2794
- evolution-manager.ts:2807
- evolution-manager.ts:2809
- evolution-manager.ts:2810
- evolution-manager.ts:2837
- evolution-manager.ts:2865
- evolution-manager.ts:2869
- evolution-manager.ts:2879
- evolution-manager.ts:2893
- evolution-manager.ts:2894
- evolution-manager.ts:2911
- evolution-manager.ts:2919
- evolution-manager.ts:2929
- evolution-manager.ts:2933
- evolution-manager.ts:2966
- evolution-manager.ts:2984
- evolution-manager.ts:2990
- evolution-manager.ts:3025
- evolution-manager.ts:3045
- evolution-manager.ts:3049
- evolution-manager.ts:3050
- evolution-manager.ts:3059
- evolution-manager.ts:3060
- evolution-manager.ts:3083
- evolution-manager.ts:3092
- evolution-manager.ts:3093
- evolution-manager.ts:3113
- evolution-manager.ts:3114
- evolution-manager.ts:3122
- evolution-manager.ts:3128
- evolution-manager.ts:3130
- evolution-manager.ts:3171
- evolution-manager.ts:3209
- evolution-manager.ts:3252
- evolution-manager.ts:3261
- evolution-manager.ts:3315
- evolution-manager.ts:3360
- evolution-manager.ts:3390
- git-analyzer.ts:221
- git-analyzer.ts:247
- llm-prompts.ts:121
- llm-prompts.ts:125
- llm-prompts.ts:129
- llm-prompts.ts:147
- llm-prompts.ts:156
- service-manager.ts:76
- service-manager.ts:83
- service-manager.ts:90
- service-manager.ts:110
- service-manager.ts:118
- service-manager.ts:124
- service-manager.ts:125
- service-manager.ts:127
- service-manager.ts:143
- service-manager.ts:147
- service-manager.ts:157
- service-manager.ts:183
- service-manager.ts:184
- service-manager.ts:200
- service-manager.ts:210
- service-manager.ts:229
- shell-renderer.ts:93
- shell-renderer.ts:149
- shell-renderer.ts:150
- shell-renderer.ts:268
- shell-renderer.ts:276
- shell-renderer.ts:282
- shell-renderer.ts:294
- shell-renderer.ts:343
- shell-renderer.ts:430
- shell-renderer.ts:459
- shell-renderer.ts:473
- shell-renderer.ts:480
- state-analyzer.ts:167
- state-analyzer.ts:228
- state-analyzer.ts:256
- state-analyzer.ts:262
- state-analyzer.ts:285
- state-analyzer.ts:323
- state-analyzer.ts:330
- state-analyzer.ts:337
- state-analyzer.ts:344
- task-executor.ts:57
- task-executor.ts:142
- task-executor.ts:157
- task-executor.ts:183
- task-executor.ts:215
- task-executor.ts:270
- task-executor.ts:280
- task-executor.ts:296
- task-executor.ts:329
- task-executor.ts:378
- task-handlers.ts:53
- task-handlers.ts:86
- task-handlers.ts:100
- task-handlers.ts:122
- task-handlers.ts:133
- task-handlers.ts:160
- task-handlers.ts:173
- task-handlers.ts:208
- task-handlers.ts:231
- task-queue.ts:54
- task-queue.ts:63
- task-queue.ts:67
- task-queue.ts:75
- task-queue.ts:85
- task-queue.ts:102
- task-queue.ts:120
- test-generator.ts:206
- test-generator.ts:72
- test-generator.ts:83
- test-generator.ts:156
- test-generator.ts:232
- test-generator.ts:238
- test-generator.ts:254
- test-generator.ts:273

### for(1)

- code-rag.ts:134
- code-rag.ts:248
- code-rag.ts:354
- code-rag.ts:358
- code-rag.ts:363
- code-rag.ts:376
- code-rag.ts:401
- code-rag.ts:437
- code-rag.ts:442
- code-rag.ts:462
- code-rag.ts:586
- code-rag.ts:614
- code-rag.ts:619
- code-rag.ts:623
- code-rag.ts:629
- code-rag.ts:656
- code-rag.ts:663
- code-rag.ts:670
- code-rag.ts:677
- code-rag.ts:702
- code-rag.ts:858
- evolution-manager.ts:276
- evolution-manager.ts:375
- evolution-manager.ts:484
- evolution-manager.ts:604
- evolution-manager.ts:616
- evolution-manager.ts:680
- evolution-manager.ts:929
- evolution-manager.ts:940
- evolution-manager.ts:1082
- evolution-manager.ts:1419
- evolution-manager.ts:1496
- evolution-manager.ts:1522
- evolution-manager.ts:1531
- evolution-manager.ts:1542
- evolution-manager.ts:2438
- evolution-manager.ts:2454
- evolution-manager.ts:2473
- evolution-manager.ts:2703
- evolution-manager.ts:2891
- evolution-manager.ts:3024
- evolution-manager.ts:3241
- evolution-manager.ts:3254
- git-analyzer.ts:124
- git-analyzer.ts:212
- llm-prompts.ts:158
- service-manager.ts:181
- shell-renderer.ts:121
- shell-renderer.ts:146
- shell-renderer.ts:230
- shell-renderer.ts:456
- state-analyzer.ts:80
- state-analyzer.ts:106
- state-analyzer.ts:111
- state-analyzer.ts:119
- state-analyzer.ts:161
- state-analyzer.ts:194
- state-analyzer.ts:199
- state-analyzer.ts:204
- state-analyzer.ts:223
- state-analyzer.ts:240
- state-analyzer.ts:325
- state-analyzer.ts:332
- state-analyzer.ts:339
- task-executor.ts:136
- task-executor.ts:195
- task-executor.ts:203
- task-executor.ts:323
- task-executor.ts:351
- task-handlers.ts:46
- task-handlers.ts:116

### constructor(1)

- code-rag.ts:67
- code-rag.ts:419
- code-rag.ts:778
- evolution-manager.ts:123
- git-analyzer.ts:37
- service-manager.ts:45
- shell-renderer.ts:62
- task-executor.ts:52
- task-executor.ts:86
- task-queue.ts:37

### catch(1)

- code-rag.ts:471
- evolution-manager.ts:662
- evolution-manager.ts:683
- evolution-manager.ts:1137
- evolution-manager.ts:1208
- evolution-manager.ts:1822
- evolution-manager.ts:1965
- evolution-manager.ts:2606
- evolution-manager.ts:2713

### join(1)

- code-rag.ts:814
- doc-generator.ts:153
- doc-generator.ts:164
- evolution-manager.ts:2017
- evolution-manager.ts:2029

### constructor(2)

- code-rag.ts:566
- doc-generator.ts:36
- state-analyzer.ts:59
- test-generator.ts:43

### getStatus(0)

- evolution-manager.ts:3337
- git-analyzer.ts:80
- service-manager.ts:59
- task-executor.ts:368

### for(2)

- code-rag.ts:543
- code-rag.ts:609
- code-rag.ts:721

### switch(1)

- evolution-manager.ts:1537
- task-executor.ts:337
- task-queue.ts:147

### clear(0)

- task-executor.ts:67
- task-executor.ts:388
- task-queue.ts:161

## Recommendations

- Split large file: evolution-manager.ts (3428 lines)
- Split large file: code-rag.ts (888 lines)
- Refactor large function: evolveIteratively in evolution-manager.ts (426 lines)
- Refactor large function: for in evolution-manager.ts (366 lines)
- Refactor large function: for in evolution-manager.ts (330 lines)
- Refactor large function: catch in evolution-manager.ts (313 lines)
- Refactor large function: switch in evolution-manager.ts (285 lines)
- Reduce complexity: evolveIteratively in evolution-manager.ts (complexity: 131)
- Reduce complexity: for in evolution-manager.ts (complexity: 128)
- Reduce complexity: for in evolution-manager.ts (complexity: 115)
- Reduce complexity: catch in evolution-manager.ts (complexity: 80)
- Reduce complexity: switch in evolution-manager.ts (complexity: 99)
- Consolidate duplicate: if(1) found in 270 places
- Consolidate duplicate: for(1) found in 71 places
- Consolidate duplicate: constructor(1) found in 10 places
- Consolidate duplicate: catch(1) found in 9 places
- Consolidate duplicate: join(1) found in 5 places